day tips
========

2012.01.24
----------

   1. pys60 备份手机短信
   http://snippets.dzone.com/posts/show/3042
   adaemon.py -- 手机后台任务，电话录音 http://gashero.iteye.com/blog/693020 
   download pys60: https://garage.maemo.org/frs/?group_id=854 

2012.01.23
----------

   1. 完美解码,设置系统关机自动清除文档记录。。。
   打开注册表编辑器，依次展开“HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Policies\Explorer”，在右侧窗口中新建一个名为“ClearRecentDocsOnExit”的DWORD值,并将其值设置为1(为1关机自动清除,为0不清除).

2012.01.21
----------

   1. vim python snippet

   autocmd FileType python setlocal et sta sw=4 sts=4  omnifunc=pysmell#Complete ft=python.django "4个空格替代TAB
   autocmd FileType html ft=htmldjango.html " For SnipMate
   
   "autocmd FileType python set ft=python.django " For SnipMate
	 "autocmd FileType html set ft=htmldjango.html " For SnipMate

   2. pysmell

   cd python
   pysmell . -x site-package test -o PYSMELLTAGES.pythonlib;
   同理生成django，可以到python安装目录下的lib / site-package/django
   pysmell . -o PYSMELLTAGES.django
   如果下载了django的安装包/源码包,可以在其bin目录生成

   然后把pysmell生成的文件复制到你项目目录之下
   更加需要,可以把你项目源码也生成
   然后你项目目录下编辑py文件时候,
   就会自动感应补全了
   ctrl+X/O就可以看到IDE中的代码提示
   
2012.01.16
----------

   1. nosql mongodb
   MongoDB的客户端工具MongoVue
   php5:http://code.google.com/p/rock-php/wiki/rock_mongo_zh 
 
   startup: mongod --dbpath d:\noSQL\data --rest --port=27017 --logpath=d:\noSql\logs &
   http://localhost:28017/

   profile:
   startup for: -profile=1 or 2 or 3
   或者在客户端调用db.setProfilingLevel(级别) 命令来实时配置 
   db.setProfilingLevel(2);
   0 – 不开启，关闭性能分析，测试环境可以打开，生成环境关闭，对性能有很大影响
   1 – 记录慢命令 (默认为>100ms), or db.setProfilingLevel( level , slowms ) 
   2 – 记录所有命令
   
   关闭：不能用kill -9，否则会导致MongoDB瘫痪,官方文档说明要使用 kill -15，killall mongod或者在client的shell里，use admin，执行db.shutdownServer()即可！

   修复：首先停止mongod服务，删除 mongodb.log，也可以备份一下,
   # rm -rf /data/mongodb/mongodb.log

   删除mongodb进程文件
   # rm -rf /mongodb/mongod.lock

   进行修复
   # mongod --repair --dbpath /data/mongodb --repairpath /data/mongodb_repair --port=27017

   这时mongodb进程会在/mongodb/repair/ 目录下储存临时的修复数据库文件，文件目录为" $tmp_repairDatabase_0" 所以此目录空间要足够大。
   生产环境数据库为100G，修复进行了大约3个半小时，在"/mongodb/repair/$tmp_repairDatabase_0" 目录下产生了近30G的数据库临时文件，修复完成后数据库临时文件自动清除。
   之后开启mongod服务，检查数据库，发现读写正常，mongodb.log没有出现错误。修复OK！
   
   db.repairDatabase()

   rockmnogo
   admin,admin

   2. python saop
   
   http://stackoverflow.com/questions/206154/whats-the-best-soap-client-library-for-python-and-where-is-the-documentation-f 
   
   suds: https://fedorahosted.org/suds
   example:
   #url = 'http://localhost:8090/sshapp/services/HzService?wsdl'
   url = 'http://218.93.119.14:8088/IWisServies.asmx?WSDL'
   start(url)
   client = Client(url)
   print client

   url = 'http://localhost:8090/sshapp/services/HzService?wsdl'

   start(url)
   client = Client(url)
   client.set_options(headers={"Content-Type":"text/xml; charset=utf-8"})
   print client       
   d = dict(hz=u'我',)
   hz = client.service.getHz(**d)
   print hz
   --注意文件编码需为utf-8
   
   rpclib: https://github.com/arskom/rpclib 
   use lxml in win32: http://www.lfd.uci.edu/~gohlke/pythonlibs/ --cool 
   
   python register:http://0x3f.org/?p=1288 

   portable python:http://www.portablepython.com/ 

2012.01.10
----------

   1. markdown
   use eclipse plugin

   2. jmeter

2012.01.09
-----------

   1. ext

   http://damoqiongqiu.iteye.com/blog/1332684
   extjh 代码有空看看

   2. python

   芝麻问答
   http://www.zhimaq.com/
   code:https://bitbucket.org/felinx/zhimaq ,use django,tornado?
   类似 http://www.osqa.net/ ，http://svn.osqa.net/svnroot/osqa/trunk/ 

install packages for osqa
easy_install django
easy_install html5lib
easy_install markdown
easy_install python-openid
easy_install south
easy_install django-debug-toolbar
easy_install mysql-python

sudo ./bin/pip install -U html5lib markdown python-openid django-debug-toolbar mysql-python
  
syncdb and migrate
python manage.py syncdb --all
python manage.py migrate forum --fake
python manage.py migrate attachments
python manage.py migrate
python manage.py createsuperuser
python manage.py runserver

   other error:
   a. ImportError: cannot import name mark_safe 
   http://wiki.osqa.net/display/docs/Ubuntu+with+Apache+and+MySQL?focusedCommentId=3047880#comment-3047880 

In /forum/utils/html.py
replace
from django.template import mark_safe
with
from django.utils.safestring import mark_safe

   leo

   b. django.core.exceptions.ImproperlyConfigured: App with label attachments could not be found 
   --没影响

   3. vim for python

   http://code.google.com/p/vim-python-ide/

old
---
把任意文件隐藏在图片中
-----------------------
by GFW BLOG 功夫网与翻墙
原文：http://briteming.blogspot.com/2011/12/blog-post_4729.html
准备：1.一张图片2.一个做试验的txt文件3.WinRAR
步骤：
1：准备一张图片，比如winshome.jpg。准备目标文件，比如test.txt。我们要实现把test.txt隐藏在图片里面。
2：把要隐藏的文件test.txt用WinRAR压缩。生成test.rar压缩包
3：打开命令行提示符：点击"开始→运行"，输入"cmd"。
4：我们假设中两个文件都存放在"D:"下。输入命令：
copy /b D:winshome.jpg + D:test.rar D:winshome.jpg
5：ok，试试打开生成的图片winshome.jpg，没错吧，的的确确是原来的图片。
6：怎样打开那个txt文件？打开WinRAR，点击"文件→打开（快捷键Ctrl + O）"，然后选择文件类型为"所有文件"，找到winshome.jpg，选择打开看看，是不是有个txt文件？这种方法适用于所有文件。

防止qq扫描计算机
----------------

save/qq.pdf
启动“Secondary Logon”服务

win7 有用特性
----------------

http://www.iteye.com/news/5112-secret-windows-7-of-the-30-new-features

psr.txt -- 不错的记录用户操作过程的工具,记录为html文件

shell 下替换文件
----------------
# rename *.txt to *.html
#!/bin/bash
for f in *.txt; do
echo "Processing $f file…"
mv $f "${f/txt/html}"
done

ipv6
------

save/ip6.txt

windows xp安装IPv6方法
在命令行下运行ipv6 install即可（cmd→ipv6 install）

Windows 2003安装IPv6方法 
在网络连接中添加IPv6协议即可。具体步骤：
右键"网上邻居"，选择"属性"打开网络连接窗口；
右键"本地连接"，选择"属性"；
点击"安装"按钮，然后选择"协议"网络组件；
点击"添加"按钮，从网络协议列表中选择"Microsoft TCP/IP 版本 6"，点击确定。

windows 7?不用任何操作，它是支持ipv6的。

IPv6网络测试方法
测试本机IPv6协议安装是否正确：
ping -6 ::1

folder failed to be renamed or moved on SDK install
----------------------------------------------------
http://code.google.com/p/android/issues/detail?id=4410

INSTRUCTIONS:
=============
 1. make a copy of the tools directory and call this new directory tools2.
 2. DO NOT USE 'SDK Setup.exe'.  
 3. Instead open up a cmd.exe window and run the following from this new tools2 directory (obviously the full path on your local machine will be different):
    J:\android-sdk-windows>tools2\android.bat update sdk

Basically, as noted before in this thread, 'SDK Setup.exe' invokes tools\android.bat, which makes it impossible for it to rename the tools directory thereafter.  It's a bit goofy and should never have passed QA validation..

网关被其他机器冲掉
-------------------

   ping 192.168.1.154会ping 到56,不能上网.
   解决: 
   先取得154的mac地址
   arp -a 
   192.168.1.254         00-0f-e2-8e-00-a5     dynamic 
   删除所有绑定
   arp -d
   绑定154
   arp -s 192.168.1.254  00-0f-e2-8e-00-a5

   win7 下：
   1、先运行：netsh i i show in 找到正在使用的网卡idx号
   2、然后运行：netsh -c i i add neighbors 11 192.168.1.1 00-21-27-bc-89-48 就可以进行绑定了，这里11是idx号。
   在Win7和Vista上用ARP -D并不能完全的删除绑定
   必须使用
   netsh -c i i delete neighbors IDX (IDX改为相应的数字)
   才可删除MAC地址绑定


不用再右键点开本地连接,更改IP,在批处理文件中实现IP地址变更 
----------------------------------------------------------

   netsh int ip set address name="本地连接" source=static addr=128.0.0.92 mask=255.255.255.0 gateway=128.0.0.1 gwmetric=1 


在 Windows、Linux 操作系统，分别利用BAT批处理文件和Shell脚本，生成类似“20110228_082905.txt”以“年月日_时分秒”命名的文件。
---------------------------------------------------------------------------------------------------------------------------

　　Windows BAT批处理文件：
@echo off
set time_hh=%time:~0,2%
if /i %time_hh% LSS 10 (set time_hh=0%time:~1,1%)
set filename=%date:~,4%%date:~5,2%%date:~8,2%_%time_hh%%time:~3,2%%time:~6,2%
echo test >> %filename%.txt

　　Linux Shell 脚本：
#!/bin/sh
echo test >> $(date -d "today" +"%Y%m%d_%H%M%S").txt

   --END

